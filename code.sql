CREATE TABLE Branch (
  branch_id varchar(8),
  branch_name varchar(255),   
  branch_loc varchar(255),
  branch_state varchar(255),
  branch_mang varchar(255),  
  PRIMARY KEY (branch_id)
);

INSERT INTO Branch (branch_id, branch_name, branch_loc, branch_state, branch_mang)
VALUES 	('BR01', 'USC Cyberjaya', 'DPulze', 'Selangor', 'Jackson'),
		('BR02', 'USC IOI City', 'IOICityMall', 'W.P Putrajaya', 'Jamal'),
 		('BR03', 'USC Petaling Jaya', 'Petaling Jaya', 'W.P Kuala Lumpur', 'John'),
		('BR04', 'USC Aurum', 'The Gardens Mall', 'W.P Kuala Lumpur', 'Justine');
		
        

create table CinemaHall (
cin_h_id varchar(8) primary key,
cin_h_num int(8),
branch_id varchar(8),
cin_cap int (8),
foreign key CinemaHall(branch_id) 	references Branch(branch_id)
	
);

INSERT INTO CinemaHall (cin_h_id, cin_h_num, branch_id, cin_cap)
VALUES 	('CH11', '1', 'BR01', '30'), 
	   	('CH12', '2', 'BR01', '30'),
	   	('CH13', '3', 'BR01', '30'),
	   	
       	('CH21', '1', 'BR02', '30'), 
	   	('CH22', '2', 'BR02', '30'),
	   	('CH23', '3', 'BR02', '30'),
	   
       	('CH31', '1', 'BR03', '30'), 
	   	('CH32', '2', 'BR03', '30'),
	   	('CH33', '3', 'BR03', '30'),
	   	
       	('CH41', '1', 'BR04', '30'), 
	   	('CH42', '2', 'BR04', '30'),
	   	('CH43', '3', 'BR04', '30');
	   	
	   	
	   	





CREATE TABLE Movies (
  movie_id varchar(6),
  movie_name char(255),   
  IMDb_rat float(2,2),
  release_date date,
  directed_by char(20),  
  PRIMARY KEY (movie_id)
);


INSERT INTO Movies (movie_id, movie_name, IMDb_rat, release_date, directed_by)
VALUES 	('MV01', 'The Batman', '8.4','2022-03-04','Matt Reeves'),
		('MV02', 'Uncharted', '6.7','2022-02-07','Ruben Fleischer'),
		('MV03', 'Scream', '7.3','2022-01-14','Tyler Gillett'),
 		('MV04', 'Jackass Forever', '7.3','2022-02-01','Jeff Tremaine'),
 		('MV05', 'Death on the Nile', '6.6','2022-02-09','Kenneth Branagh'),
 		('MV06', 'Moonfall', '5.3','2022-04-02','Roland Emmerich'),
 		('MV07', '76 DAYS', '9.8','2021-11-05','Hao Wu'),
        ('MV08', 'QUO VADIS, AIDA?', '9.8','2021-11-01','Jasmila Zbanic'),
        ('MV09', '76 DAYS', '9.8','2021-11-05','Hao Wu'),
        ('MV10', 'SLALOM', '9.7','2021-10-07','Charl√®ne Favier'),
        ('MV11', 'LUZZU', '9.6','2021-07-04','Alex Camilleri'),
        ('MV12', 'SABAYA', '9.6','2021-09-06','Hogir Hirori'),
        ('MV13', 'HIVE', '9.5','2021-06-11','Blerta Basholli'),
        ('MV14', 'AZOR', '9.4','2021-05-13','Andreas Fontana'),
        ('MV15', 'MAYOR', '9.3','2021-04-16','David Osit'),
        ('MV16', 'PAPER SPIDERS', '9.2','2021-03-09','Inon Shampanier'),
        ('MV17', 'CHANGING THE GAME', '9.1','2021-01-13','Michael Barnett'),
        ('MV18', 'THE FATHER', '8.9','2021-05-13','Florian Zeller'),
        ('MV19', 'MLK/FBI', '9.8','2021-07-21','Sam Pollard'),
        ('MV20', 'THERE IS NO EVIL', '9.7','2021-01-09','Mohammad Rasoulof');




CREATE TABLE Seat_Details(
    seat_id varchar(8) PRIMARY KEY,
    seat_num varchar(8),
    seat_row char(8),
    cin_h_id varchar(8),
    seat_price int(8),
    
   foreign key Seat_Details(cin_h_id) references CinemaHall(cin_h_id)
   
);




Insert into Seat_Details(seat_id, seat_num, seat_row, cin_h_id, seat_price) VALUES
('A101', 'A1', 'A', 'CH11', '12'),
('A102', 'A2', 'A', 'CH11', '12'),
('A103', 'A3', 'A', 'CH11', '12'),
('A104', 'A4', 'A', 'CH11', '12'),
('A105', 'A5', 'A', 'CH11', '12'),
('B101', 'B1', 'B', 'CH11', '12'),
('B102', 'B2', 'B', 'CH11', '12'),
('B103', 'B3', 'B', 'CH11', '12'),
('B104', 'B4', 'B', 'CH11', '12'),
('B105', 'B5', 'B', 'CH11', '12'),
('C101', 'C1', 'C', 'CH11', '16'),
('C102', 'C2', 'C', 'CH11', '16'),
('C103', 'C3', 'C', 'CH11', '16'),
('C104', 'C4', 'C', 'CH11', '16'),
('C105', 'C5', 'C', 'CH11', '16'),
('D101', 'D1', 'D', 'CH11', '16'),
('D102', 'D2', 'D', 'CH11', '16'),
('D103', 'D3', 'D', 'CH11', '16'),
('D104', 'D4', 'D', 'CH11', '16'),
('D105', 'D5', 'D', 'CH11', '16'),
('E101', 'E1', 'E', 'CH11', '12'),
('E102', 'E2', 'E', 'CH11', '12'),
('E103', 'E3', 'E', 'CH11', '12'),
('E104', 'E4', 'E', 'CH11', '12'),
('E105', 'E5', 'E','CH11', '12'),

('A201', 'A1', 'A', 'CH12', '12'),
('A202', 'A2', 'A', 'CH12', '12'),
('A203', 'A3', 'A','CH12', '12'),
('A204', 'A4', 'A', 'CH12', '12'),
('A205', 'A5', 'A', 'CH12', '12'),
('B201', 'B1', 'B', 'CH12', '12'),
('B202', 'B2', 'B', 'CH12', '12'),
('B203', 'B3', 'B', 'CH12', '12'),
('B204', 'B4', 'B', 'CH12', '12'),
('B205', 'B5', 'B', 'CH12', '12'),
('C201', 'C1', 'C', 'CH12', '16'),
('C202', 'C2', 'C', 'CH12', '16'),
('C203', 'C3', 'C', 'CH12', '16'),
('C204', 'C4', 'C', 'CH12', '16'),
('C205', 'C5', 'C', 'CH12', '16'),
('D201', 'D1', 'D', 'CH12', '16'),
('D202', 'D2', 'D', 'CH12', '16'),
('D203', 'D3', 'D', 'CH12', '16'),
('D204', 'D4', 'D', 'CH12', '16'),
('D205', 'D5', 'D', 'CH12', '16'),
('E201', 'E1', 'E','CH12', '12'),
('E202', 'E2', 'E', 'CH12', '12'),
('E203', 'E3', 'E', 'CH12', '12'),
('E204', 'E4', 'E', 'CH12', '12'),
('E205', 'E5', 'E', 'CH12', '12'),

('A301', 'A1', 'A', 'CH13', '12'),
('A302', 'A2', 'A', 'CH13', '12'),
('A303', 'A3', 'A', 'CH13', '12'),
('A304', 'A4', 'A', 'CH13', '12'),
('A305', 'A5', 'A', 'CH13', '12'),
('B301', 'B1', 'B', 'CH13', '12'),
('B302', 'B2', 'B', 'CH13', '12'),
('B303', 'B3', 'B', 'CH13', '12'),
('B304', 'B4', 'B', 'CH13', '12'),
('B305', 'B5', 'B', 'CH13', '12'),
('C301', 'C1', 'C', 'CH13', '16'),
('C302', 'C2', 'C', 'CH13', '16'),
('C303', 'C3', 'C', 'CH13', '16'),
('C304', 'C4', 'C', 'CH13', '16'),
('C305', 'C5', 'C', 'CH13', '16'),
('D301', 'D1', 'D', 'CH13', '16'),
('D302', 'D2', 'D', 'CH13', '16'),
('D303', 'D3', 'D', 'CH13', '16'),
('D304', 'D4', 'D', 'CH13', '16'),
('D305', 'D5', 'D', 'CH13', '16'),
('E301', 'E1', 'E', 'CH13', '12'),
('E302', 'E2', 'E', 'CH13', '12'),
('E303', 'E3', 'E', 'CH13', '12'),
('E304', 'E4', 'E', 'CH13', '12'),
('E305', 'E5', 'E', 'CH13', '12'),

('A401', 'A1', 'A', 'CH21', '12'),
('A402', 'A2', 'A', 'CH21', '12'),
('A403', 'A3', 'A', 'CH21', '12'),
('A404', 'A4', 'A', 'CH21', '12'),
('A405', 'A5', 'A', 'CH21', '12'),
('B401', 'B1', 'B', 'CH21', '12'),
('B402', 'B2', 'B', 'CH21', '12'),
('B403', 'B3', 'B', 'CH21', '12'),
('B404', 'B4', 'B', 'CH21', '12'),
('B405', 'B5', 'B', 'CH21', '12'),
('C401', 'C1', 'C', 'CH21', '16'),
('C402', 'C2', 'C','CH21', '16'),
('C403', 'C3', 'C','CH21', '16'),
('C404', 'C4', 'C', 'CH21', '16'),
('C405', 'C5', 'C', 'CH21', '16'),
('D401', 'D1', 'D', 'CH21', '16'),
('D402', 'D2', 'D', 'CH21', '16'),
('D403', 'D3', 'D', 'CH21', '16'),
('D404', 'D4', 'D','CH21', '16'),
('D405', 'D5', 'D', 'CH21', '16'),
('E401', 'E1', 'E', 'CH21', '12'),
('E402', 'E2', 'E', 'CH21', '12'),
('E403', 'E3', 'E', 'CH21', '12'),
('E404', 'E4', 'E', 'CH21', '12'),
('E405', 'E5', 'E', 'CH21', '12'),

('A501', 'A1', 'A', 'CH22', '12'),
('A502', 'A2', 'A', 'CH22', '12'),
('A503', 'A3', 'A', 'CH22', '12'),
('A504', 'A4', 'A', 'CH22', '12'),
('A505', 'A5', 'A', 'CH22', '12'),
('B501', 'B1', 'B', 'CH22', '12'),
('B502', 'B2', 'B', 'CH22', '12'),
('B503', 'B3', 'B', 'CH22', '12'),
('B504', 'B4', 'B', 'CH22', '12'),
('B505', 'B5', 'B', 'CH22', '12'),
('C501', 'C1', 'C', 'CH22', '16'),
('C502', 'C2', 'C', 'CH22', '16'),
('C503', 'C3', 'C','CH22', '16'),
('C504', 'C4', 'C', 'CH22', '16'),
('C505', 'C5', 'C', 'CH22', '16'),
('D501', 'D1', 'D', 'CH22', '16'),
('D502', 'D2', 'D', 'CH22', '16'),
('D503', 'D3', 'D', 'CH22', '16'),
('D504', 'D4', 'D', 'CH22', '16'),
('D505', 'D5', 'D', 'CH22', '16'),
('E501', 'E1', 'E', 'CH22', '12'),
('E502', 'E2', 'E', 'CH22', '12'),
('E503', 'E3', 'E', 'CH22', '12'),
('E504', 'E4', 'E', 'CH22', '12'),
('E505', 'E5', 'E', 'CH22', '12'),

('A601', 'A1', 'A', 'CH23', '12'),
('A602', 'A2', 'A', 'CH23', '12'),
('A603', 'A3', 'A', 'CH23', '12'),
('A604', 'A4', 'A', 'CH23', '12'),
('A605', 'A5', 'A', 'CH23', '12'),
('B601', 'B1', 'B', 'CH23', '12'),
('B602', 'B2', 'B', 'CH23', '12'),
('B603', 'B3', 'B', 'CH23', '12'),
('B604', 'B4', 'B', 'CH23', '12'),
('B605', 'B5', 'B', 'CH23', '12'),
('C601', 'C1', 'C', 'CH23', '16'),
('C602', 'C2', 'C', 'CH23', '16'),
('C603', 'C3', 'C', 'CH23', '16'),
('C604', 'C4', 'C', 'CH23', '16'),
('C605', 'C5', 'C', 'CH23', '16'),
('D601', 'D1', 'D', 'CH23', '16'),
('D602', 'D2', 'D', 'CH23', '16'),
('D603', 'D3', 'D', 'CH23', '16'),
('D604', 'D4', 'D', 'CH23', '16'),
('D605', 'D5', 'D', 'CH23', '16'),
('E601', 'E1', 'E', 'CH23', '12'),
('E602', 'E2', 'E', 'CH23', '12'),
('E603', 'E3', 'E', 'CH23', '12'),
('E604', 'E4', 'E', 'CH23', '12'),
('E605', 'E5', 'E', 'CH23', '12'),

('A701', 'A1', 'A', 'CH31', '12'),
('A702', 'A2', 'A', 'CH31', '12'),
('A703', 'A3', 'A', 'CH31', '12'),
('A704', 'A4', 'A', 'CH31', '12'),
('A705', 'A5', 'A', 'CH31', '12'),
('B701', 'B1', 'B', 'CH31', '12'),
('B702', 'B2', 'B', 'CH31', '12'),
('B703', 'B3', 'B', 'CH31', '12'),
('B704', 'B4', 'B', 'CH31', '12'),
('B705', 'B5', 'B', 'CH31', '12'),
('C701', 'C1', 'C', 'CH31', '16'),
('C702', 'C2', 'C', 'CH31', '16'),
('C703', 'C3', 'C', 'CH31', '16'),
('C704', 'C4', 'C', 'CH31', '16'),
('C705', 'C5', 'C', 'CH31', '16'),
('D701', 'D1', 'D', 'CH31', '16'),
('D702', 'D2', 'D', 'CH31', '16'),
('D703', 'D3', 'D', 'CH31', '16'),
('D704', 'D4', 'D', 'CH31', '16'),
('D705', 'D5', 'D', 'CH31', '16'),
('E701', 'E1', 'E', 'CH31', '12'),
('E702', 'E2', 'E', 'CH31', '12'),
('E703', 'E3', 'E', 'CH31', '12'),
('E704', 'E4', 'E', 'CH31', '12'),
('E705', 'E5', 'E', 'CH31', '12'),

('A801', 'A1', 'A', 'CH32', '12'),
('A802', 'A2', 'A', 'CH32', '12'),
('A803', 'A3', 'A', 'CH32', '12'),
('A804', 'A4', 'A', 'CH32', '12'),
('A805', 'A5', 'A', 'CH32', '12'),
('B801', 'B1', 'B', 'CH32', '12'),
('B802', 'B2', 'B', 'CH32', '12'),
('B803', 'B3', 'B', 'CH32', '12'),
('B804', 'B4', 'B', 'CH32', '12'),
('B805', 'B5', 'B', 'CH32', '12'),
('C801', 'C1', 'C', 'CH32', '16'),
('C802', 'C2', 'C', 'CH32', '16'),
('C803', 'C3', 'C', 'CH32', '16'),
('C804', 'C4', 'C', 'CH32', '16'),
('C805', 'C5', 'C', 'CH32', '16'),
('D801', 'D1', 'D', 'CH32', '16'),
('D802', 'D2', 'D', 'CH32', '16'),
('D803', 'D3', 'D', 'CH32', '16'),
('D804', 'D4', 'D', 'CH32', '16'),
('D805', 'D5', 'D', 'CH32', '16'),
('E801', 'E1', 'E', 'CH32', '12'),
('E802', 'E2', 'E', 'CH32', '12'),
('E803', 'E3', 'E', 'CH32', '12'),
('E804', 'E4', 'E', 'CH32', '12'),
('E805', 'E5', 'E', 'CH32', '12'),

('A901', 'A1', 'A', 'CH33', '12'),
('A902', 'A2', 'A', 'CH33', '12'),
('A903', 'A3', 'A', 'CH33', '12'),
('A904', 'A4', 'A', 'CH33', '12'),
('A905', 'A5', 'A', 'CH33', '12'),
('B901', 'B1', 'B', 'CH33', '12'),
('B902', 'B2', 'B', 'CH33', '12'),
('B903', 'B3', 'B', 'CH33', '12'),
('B904', 'B4', 'B', 'CH33', '12'),
('B905', 'B5', 'B', 'CH33', '12'),
('C901', 'C1', 'C', 'CH33', '16'),
('C902', 'C2', 'C', 'CH33', '16'),
('C903', 'C3', 'C', 'CH33', '16'),
('C904', 'C4', 'C', 'CH33', '16'),
('C905', 'C5', 'C', 'CH33', '16'),
('D901', 'D1', 'D', 'CH33', '16'),
('D902', 'D2', 'D', 'CH33', '16'),
('D903', 'D3', 'D', 'CH33', '16'),
('D904', 'D4', 'D', 'CH33', '16'),
('D905', 'D5', 'D', 'CH33', '16'),
('E901', 'E1', 'E', 'CH33', '12'),
('E902', 'E2', 'E', 'CH33', '12'),
('E903', 'E3', 'E', 'CH33', '12'),
('E904', 'E4', 'E', 'CH33', '12'),
('E905', 'E5', 'E', 'CH33', '12'),

('A111', 'A1', 'A', 'CH41', '12'),
('A112', 'A2', 'A', 'CH41', '12'),
('A113', 'A3', 'A', 'CH41', '12'),
('A114', 'A4', 'A', 'CH41', '12'),
('A115', 'A5', 'A', 'CH41', '12'),
('B111', 'B1', 'B', 'CH41', '12'),
('B112', 'B2', 'B', 'CH41', '12'),
('B113', 'B3', 'B', 'CH41', '12'),
('B114', 'B4', 'B', 'CH41', '12'),
('B115', 'B5', 'B', 'CH41', '12'),
('C111', 'C1', 'C', 'CH41', '16'),
('C112', 'C2', 'C', 'CH41', '16'),
('C113', 'C3', 'C', 'CH41', '16'),
('C114', 'C4', 'C', 'CH41', '16'),
('C115', 'C5', 'C', 'CH41', '16'),
('D111', 'D1', 'D', 'CH41', '16'),
('D112', 'D2', 'D', 'CH41', '16'),
('D113', 'D3', 'D', 'CH41', '16'),
('D114', 'D4', 'D', 'CH41', '16'),
('D115', 'D5', 'D', 'CH41', '16'),
('E111', 'E1', 'E', 'CH41', '12'),
('E112', 'E2', 'E', 'CH41', '12'),
('E113', 'E3', 'E', 'CH41', '12'),
('E114', 'E4', 'E', 'CH41', '12'),
('E115', 'E5', 'E','CH41', '12'),

('A211', 'A1', 'A', 'CH42', '12'),
('A212', 'A2', 'A', 'CH42', '12'),
('A213', 'A3', 'A','CH42', '12'),
('A214', 'A4', 'A', 'CH42', '12'),
('A215', 'A5', 'A', 'CH42', '12'),
('B211', 'B1', 'B', 'CH42', '12'),
('B212', 'B2', 'B', 'CH42', '12'),
('B213', 'B3', 'B', 'CH42', '12'),
('B214', 'B4', 'B', 'CH42', '12'),
('B215', 'B5', 'B', 'CH42', '12'),
('C211', 'C1', 'C', 'CH42', '16'),
('C212', 'C2', 'C', 'CH42', '16'),
('C213', 'C3', 'C', 'CH42', '16'),
('C214', 'C4', 'C', 'CH42', '16'),
('C215', 'C5', 'C', 'CH42', '16'),
('D211', 'D1', 'D', 'CH42', '16'),
('D212', 'D2', 'D', 'CH42', '16'),
('D213', 'D3', 'D', 'CH42', '16'),
('D214', 'D4', 'D', 'CH42', '16'),
('D215', 'D5', 'D', 'CH42', '16'),
('E211', 'E1', 'E','CH42', '12'),
('E212', 'E2', 'E', 'CH42', '12'),
('E213', 'E3', 'E', 'CH42', '12'),
('E214', 'E4', 'E', 'CH42', '12'),
('E215', 'E5', 'E', 'CH42', '12'),

('A311', 'A1', 'A', 'CH43', '12'),
('A312', 'A2', 'A', 'CH43', '12'),
('A313', 'A3', 'A', 'CH43', '12'),
('A314', 'A4', 'A', 'CH43', '12'),
('A315', 'A5', 'A', 'CH43', '12'),
('B311', 'B1', 'B', 'CH43', '12'),
('B312', 'B2', 'B', 'CH43', '12'),
('B313', 'B3', 'B', 'CH43', '12'),
('B314', 'B4', 'B', 'CH43', '12'),
('B315', 'B5', 'B', 'CH43', '12'),
('C311', 'C1', 'C', 'CH43', '16'),
('C312', 'C2', 'C', 'CH43', '16'),
('C313', 'C3', 'C', 'CH43', '16'),
('C314', 'C4', 'C', 'CH43', '16'),
('C315', 'C5', 'C', 'CH43', '16'),
('D311', 'D1', 'D', 'CH43', '16'),
('D312', 'D2', 'D', 'CH43', '16'),
('D313', 'D3', 'D', 'CH43', '16'),
('D314', 'D4', 'D', 'CH43', '16'),
('D315', 'D5', 'D', 'CH43', '16'),
('E311', 'E1', 'E', 'CH43', '12'),
('E312', 'E2', 'E', 'CH43', '12'),
('E313', 'E3', 'E', 'CH43', '12'),
('E314', 'E4', 'E', 'CH43', '12'),
('E315', 'E5', 'E', 'CH43', '12');

create table SeatAvailabilityStatus (
  seat_status_id varchar(8) primary key,
  seat_id Varchar(8),
  seat_status_des varchar(25)
  
	
);

ALTER TABLE SeatAvailabilityStatus ADD FOREIGN KEY (seat_id) REFERENCES Seat_Details(seat_id);	


 INSERT INTO SeatAvailabilityStatus (seat_status_id , seat_id , seat_status_des)
VALUES
 ('S001', 'A101', 'available'),
 ('S002', 'A102', 'available'),
 ('S003', 'A103', 'unavailable'),
('S004', 'A104', 'available'),
('S005', 'A105', 'available'),
('S006', 'B101', 'available'),
('S007', 'B102', 'unavailable'),
('S008', 'B103', 'available'),
('S009', 'B104', 'available'),
('S010', 'B105', 'available'),
('S011', 'C101', 'available'),
('S012', 'C102', 'available'),
('S013', 'C103', 'available'),
('S014', 'C104', 'available'),
('S015', 'C105', 'available'),
('S016', 'D101', 'available'),
('S017', 'D102', 'available'),
('S018', 'D103', 'unavailable'),
('S019', 'D104', 'unavailable'),
('S020', 'D105', 'unavailable'),
('S021', 'E101', 'unavailable'),
('S022', 'E102', 'available'),
('S023', 'E103', 'unavailable'),
('S024', 'E104', 'available'),
('S025', 'E105', 'available'),

 ('S101', 'A201', 'available'),
 ('S102', 'A202', 'available'),
 ('S103', 'A203', 'unavailable'),
('S104', 'A204', 'available'),
('S105', 'A205', 'available'),
('S106', 'B201', 'available'),
('S107', 'B202', 'unavailable'),
('S108', 'B203', 'available'),
('S109', 'B204', 'available'),
('S110', 'B205', 'available'),
('S111', 'C201', 'available'),
('S112', 'C202', 'available'),
('S113', 'C203', 'available'),
('S114', 'C204', 'available'),
('S115', 'C205', 'available'),
('S116', 'D201', 'available'),
('S117', 'D202', 'available'),
('S118', 'D203', 'unavailable'),
('S119', 'D204', 'unavailable'),
('S120', 'D205', 'unavailable'),
('S121', 'E201', 'unavailable'),
('S122', 'E202', 'available'),
('S123', 'E203', 'unavailable'),
('S124', 'E204', 'available'),
('S125', 'E205', 'available'),

('S201', 'A301', 'available'),
 ('S202', 'A302', 'available'),
 ('S203', 'A303', 'unavailable'),
('S204', 'A304', 'available'),
('S205', 'A305', 'available'),
('S206', 'B301', 'available'),
('S207', 'B302', 'unavailable'),
('S208', 'B303', 'available'),
('S209', 'B304', 'available'),
('S210', 'B305', 'available'),
('S211', 'C301', 'available'),
('S212', 'C302', 'available'),
('S213', 'C303', 'available'),
('S214', 'C304', 'available'),
('S215', 'C305', 'available'),
('S216', 'D301', 'available'),
('S217', 'D302', 'available'),
('S218', 'D303', 'unavailable'),
('S219', 'D304', 'unavailable'),
('S220', 'D305', 'unavailable'),
('S221', 'E301', 'unavailable'),
('S222', 'E302', 'available'),
('S223', 'E303', 'unavailable'),
('S224', 'E304', 'available'),
('S225', 'E305', 'available'),

('S301', 'A401', 'available'),
 ('S302', 'A402', 'available'),
 ('S303', 'A403', 'unavailable'),
('S304', 'A404', 'available'),
('S305', 'A405', 'available'),
('S306', 'B401', 'available'),
('S307', 'B402', 'unavailable'),
('S308', 'B403', 'available'),
('S309', 'B404', 'available'),
('S310', 'B405', 'available'),
('S311', 'C401', 'available'),
('S312', 'C402', 'available'),
('S313', 'C403', 'available'),
('S314', 'C404', 'available'),
('S315', 'C405', 'available'),
('S316', 'D401', 'available'),
('S317', 'D402', 'available'),
('S318', 'D403', 'unavailable'),
('S319', 'D404', 'unavailable'),
('S320', 'D405', 'unavailable'),
('S321', 'E401', 'unavailable'),
('S322', 'E402', 'available'),
('S323', 'E403', 'unavailable'),
('S324', 'E404', 'available'),
('S325', 'E405', 'available'),

('S401', 'A501', 'available'),
 ('S402', 'A502', 'available'),
 ('S403', 'A503', 'unavailable'),
('S404', 'A504', 'available'),
('S405', 'A505', 'available'),
('S406', 'B501', 'available'),
('S407', 'B502', 'unavailable'),
('S408', 'B503', 'available'),
('S409', 'B504', 'available'),
('S410', 'B505', 'available'),
('S411', 'C501', 'available'),
('S412', 'C502', 'available'),
('S413', 'C503', 'available'),
('S414', 'C504', 'available'),
('S415', 'C505', 'available'),
('S416', 'D501', 'available'),
('S417', 'D502', 'available'),
('S418', 'D503', 'unavailable'),
('S419', 'D504', 'unavailable'),
('S420', 'D505', 'unavailable'),
('S421', 'E501', 'unavailable'),
('S422', 'E502', 'available'),
('S423', 'E503', 'unavailable'),
('S424', 'E504', 'available'),
('S425', 'E505', 'available'),

('S501', 'A601', 'available'),
 ('S502', 'A602', 'available'),
 ('S503', 'A603', 'unavailable'),
('S504', 'A604', 'available'),
('S505', 'A605', 'available'),
('S506', 'B601', 'available'),
('S507', 'B602', 'unavailable'),
('S508', 'B603', 'available'),
('S509', 'B604', 'available'),
('S510', 'B605', 'available'),
('S511', 'C601', 'available'),
('S512', 'C602', 'available'),
('S513', 'C603', 'available'),
('S514', 'C604', 'available'),
('S515', 'C605', 'available'),
('S516', 'D601', 'available'),
('S517', 'D602', 'available'),
('S518', 'D603', 'unavailable'),
('S519', 'D604', 'unavailable'),
('S520', 'D605', 'unavailable'),
('S521', 'E601', 'unavailable'),
('S522', 'E602', 'available'),
('S523', 'E603', 'unavailable'),
('S524', 'E604', 'available'),
('S525', 'E605', 'available'),

('S601', 'A701', 'available'),
 ('S602', 'A702', 'available'),
 ('S603', 'A703', 'unavailable'),
('S604', 'A704', 'available'),
('S605', 'A705', 'available'),
('S606', 'B701', 'available'),
('S607', 'B702', 'unavailable'),
('S608', 'B703', 'available'),
('S609', 'B704', 'available'),
('S610', 'B705', 'available'),
('S611', 'C701', 'available'),
('S612', 'C702', 'available'),
('S613', 'C703', 'available'),
('S614', 'C704', 'available'),
('S615', 'C705', 'available'),
('S616', 'D701', 'available'),
('S617', 'D702', 'available'),
('S618', 'D703', 'unavailable'),
('S619', 'D704', 'unavailable'),
('S620', 'D705', 'unavailable'),
('S621', 'E701', 'unavailable'),
('S622', 'E702', 'available'),
('S623', 'E703', 'unavailable'),
('S624', 'E704', 'available'),
('S625', 'E705', 'available'),

('S701', 'A801', 'available'),
 ('S702', 'A802', 'available'),
 ('S703', 'A803', 'unavailable'),
('S704', 'A804', 'available'),
('S705', 'A805', 'available'),
('S706', 'B801', 'available'),
('S707', 'B802', 'unavailable'),
('S708', 'B803', 'available'),
('S709', 'B804', 'available'),
('S710', 'B805', 'available'),
('S711', 'C801', 'available'),
('S712', 'C802', 'available'),
('S713', 'C803', 'available'),
('S714', 'C804', 'available'),
('S715', 'C805', 'available'),
('S716', 'D801', 'available'),
('S717', 'D802', 'available'),
('S718', 'D803', 'unavailable'),
('S719', 'D804', 'unavailable'),
('S720', 'D805', 'unavailable'),
('S721', 'E801', 'unavailable'),
('S722', 'E802', 'available'),
('S723', 'E803', 'unavailable'),
('S724', 'E804', 'available'),
('S725', 'E805', 'available'),



('S801', 'A901', 'available'),
 ('S802', 'A902', 'available'),
 ('S803', 'A903', 'unavailable'),
('S804', 'A904', 'available'),
('S805', 'A905', 'available'),
('S806', 'B901', 'available'),
('S807', 'B902', 'unavailable'),
('S808', 'B903', 'available'),
('S809', 'B904', 'available'),
('S810', 'B905', 'available'),
('S811', 'C901', 'available'),
('S812', 'C902', 'available'),
('S813', 'C903', 'available'),
('S814', 'C904', 'available'),
('S815', 'C905', 'available'),
('S816', 'D901', 'available'),
('S817', 'D902', 'available'),
('S818', 'D903', 'unavailable'),
('S819', 'D904', 'unavailable'),
('S820', 'D905', 'unavailable'),
('S821', 'E901', 'unavailable'),
('S822', 'E902', 'available'),
('S823', 'E903', 'unavailable'),
('S824', 'E904', 'available'),
('S825', 'E905', 'available'),

('S901', 'A111', 'available'),
 ('S902', 'A112', 'available'),
 ('S903', 'A113', 'unavailable'),
('S904', 'A114', 'available'),
('S905', 'A115', 'available'),
('S906', 'B111', 'available'),
('S907', 'B112', 'unavailable'),
('S908', 'B113', 'available'),
('S909', 'B114', 'available'),
('S910', 'B115', 'available'),
('S911', 'C111', 'available'),
('S912', 'C112', 'available'),
('S913', 'C113', 'available'),
('S914', 'C114', 'available'),
('S915', 'C115', 'available'),
('S916', 'D111', 'available'),
('S917', 'D112', 'available'),
('S918', 'D113', 'unavailable'),
('S919', 'D114', 'unavailable'),
('S920', 'D115', 'unavailable'),
('S921', 'E111', 'unavailable'),
('S922', 'E112', 'available'),
('S923', 'E113', 'unavailable'),
('S924', 'E114', 'available'),
('S925', 'E115', 'available'),

('S1001', 'A211', 'available'),
 ('S1002', 'A212', 'available'),
 ('S1003', 'A213', 'unavailable'),
('S1004', 'A214', 'available'),
('S1005', 'A215', 'available'),
('S1006', 'B211', 'available'),
('S1007', 'B212', 'unavailable'),
('S1008', 'B213', 'available'),
('S1009', 'B214', 'available'),
('S1010', 'B215', 'available'),
('S1011', 'C211', 'available'),
('S1012', 'C212', 'available'),
('S1013', 'C213', 'available'),
('S1014', 'C214', 'available'),
('S1015', 'C215', 'available'),
('S1016', 'D211', 'available'),
('S1017', 'D212', 'available'),
('S1018', 'D213', 'unavailable'),
('S1019', 'D214', 'unavailable'),
('S1020', 'D215', 'unavailable'),
('S1021', 'E211', 'unavailable'),
('S1022', 'E212', 'available'),
('S1023', 'E213', 'unavailable'),
('S1024', 'E214', 'available'),
('S1025', 'E215', 'available'),

('S1101', 'A311', 'available'),
 ('S1102', 'A312', 'available'),
 ('S1103', 'A313', 'unavailable'),
('S1104', 'A314', 'available'),
('S1105', 'A315', 'available'),
('S1106', 'B311', 'available'),
('S1107', 'B312', 'unavailable'),
('S1108', 'B313', 'available'),
('S1109', 'B314', 'available'),
('S1110', 'B315', 'available'),
('S1111', 'C311', 'available'),
('S1112', 'C312', 'available'),
('S1113', 'C313', 'available'),
('S1114', 'C314', 'available'),
('S1115', 'C315', 'available'),
('S1116', 'D311', 'available'),
('S1117', 'D312', 'available'),
('S1118', 'D313', 'unavailable'),
('S1119', 'D314', 'unavailable'),
('S1120', 'D315', 'unavailable'),
('S1121', 'E311', 'unavailable'),
('S1122', 'E312', 'available'),
('S1123', 'E313', 'unavailable'),
('S1124', 'E314', 'available'),
('S1125', 'E315', 'available');



CREATE TABLE Audience (
    aud_id varchar(8) PRIMARY KEY NOT NULL,
    aud_name VARCHAR(255) NOT NULL,
    aud_ph_num VARCHAR(255),
    payment_info VARCHAR(255) NOT NULL,
    other_details VARCHAR(255)
);


Insert into Audience( aud_id, aud_name, aud_ph_num, payment_info, other_details) VALUES
('AU-001', 'Mahin Khan', 01128061585, 'online banking', '' ),
('AU-002', 'Ishtiaq Ahmed Bhuiyan', 01426067985, 'online banking', '' ),
('AU-003', 'Akila Ibnat', 06328061585, 'online banking', 'Disabled' ),
('AU-004', 'Anisa Mehreen', 03464361585, 'online banking', 'Assistance-req' ),
('AU-005', 'Haziq Afham Bin', 0253256436, 'CASH', '' ),
('AU-006', 'Li Min Yu', 0115235155, 'online banking', '' ),
('AU-007', 'Xu Yue', 0162624155, 'online banking', 'Assistance-req' ),
('AU-008', 'Abdulla Sayeed', 01134563158, 'online banking', '' ),
('AU-009', 'Hassan', 04536361585, 'CARD', 'Service-req' ),
('AU-010', 'Kareem Iftekhar', 0734561585, 'CASH', 'Disabled' ),
('AU-011', 'Noor-uzzaman', 01264661585, 'CASH', 'Assistance-req' ),
('AU-012', 'Mahfuzur Rahman', 03128346575, 'CASH', '' ),
('AU-013', 'Rahat Hassan', 0112246246, 'CASH', '' ),
('AU-014', 'Mahmudur Rahman', 01728764634, 'online banking', '' ),
('AU-015', 'Rabbi kul', 0134546255, 'CASH', '' ),
('AU-016', 'Zhang', 0364634685, 'online banking', '' ),
('AU-017', 'Lio', 0146436125, 'online banking', '' ),
('AU-018', 'Wang Cio', 0176582334, 'CASH', '' ),
('AU-019', 'Deepti', 0153272544, 'CASH', 'Assistance-req' ),
('AU-020', 'Adam', 0146334422, 'CASH', '' )
;


CREATE TABLE Booking (
	booking_id varchar(8) PRIMARY KEY NOT NULL,
    aud_id varchar (8)   NOT NULL,
    movie_id varchar (8) NOT NULL,
    movie_time_id varchar(8) NOT NULL,
    seat_id  varchar(8)  NOT NULL,
    num_seat_book int (8) NOT NULL
	
);


Insert into Booking (booking_id, aud_id, movie_id, movie_time_id, seat_id, num_seat_book ) values 
('BID-001', 'AU-001', 'MV13', 'MT12', 'E505',  '3' ),
('BID-002', 'AU-001', 'MV13', 'MT12', 'E503',   '3' ),
('BID-003', 'AU-001', 'MV13', 'MT12', 'E502',  '3' ),
('BID-004', 'AU-002', 'MV01', 'MT09', 'A101',  '2' ),
('BID-005', 'AU-002', 'MV01', 'MT09', 'A102',  '2' ),
('BID-006', 'AU-003', 'MV04', 'MT14', 'C103',  '4' ),
('BID-007', 'AU-003', 'MV04', 'MT14', 'C102',   '4' ),
('BID-008', 'AU-003', 'MV04', 'MT14', 'C101',   '4' ),
('BID-009', 'AU-003', 'MV04', 'MT14', 'C104',   '4' ),
('BID-010', 'AU-004', 'MV09', 'MT04', 'A304',   '1' ),
('BID-011', 'AU-005', 'MV07', 'MT03', 'A301',  '1' ),
('BID-012', 'AU-006', 'MV12', 'MT02', 'E401',  '1' ),
('BID-013', 'AU-007', 'MV14', 'MT19', 'E202',  '3' ),
('BID-014', 'AU-007', 'MV14', 'MT19', 'E201',   '3' ),
('BID-015', 'AU-007', 'MV14', 'MT19', 'E203',  '3' ),
('BID-016', 'AU-008', 'MV05', 'MT08', 'B101',  '2' ),
('BID-017', 'AU-008', 'MV05', 'MT08', 'B102',  '2' ),
('BID-018', 'AU-009', 'MV04', 'MT17', 'B405',  '1' ),
('BID-019', 'AU-010', 'MV04', 'MT01', 'A205',  '1' ),
('BID-020', 'AU-011', 'MV18', 'MT20', 'C202',  '1' ),
('BID-021', 'AU-012', 'MV17', 'MT11', 'C305',  '1' ),
('BID-022', 'AU-013', 'MV17', 'MT14', 'C304',  '2' ),
('BID-023', 'AU-013', 'MV17', 'MT14', 'C303',  '2' ),
('BID-024', 'AU-014', 'MV02', 'MT20', 'D101',  '2' ),
('BID-025', 'AU-014', 'MV02', 'MT20', 'D102',  '2' ),
('BID-026', 'AU-015', 'MV01', 'MT01', 'D405', '2' ),
('BID-027', 'AU-015', 'MV01', 'MT01', 'D404',  '2' ),
('BID-028', 'AU-016', 'MV09', 'MT03', 'D201',  '2' ),
('BID-029', 'AU-016', 'MV09', 'MT03', 'D202' ,  '2' ),
('BID-030', 'AU-017', 'MV12', 'MT08', 'E101' , '1' ),
('BID-031', 'AU-018', 'MV11', 'MT05', 'E305',  '1' ),
('BID-032', 'AU-019', 'MV15', 'MT04', 'A104',  '1' ),
('BID-033', 'AU-020', 'MV18', 'MT13', 'B103',  '3' ),
('BID-034', 'AU-020', 'MV18', 'MT13', 'B102',  '3' ),
('BID-035', 'AU-020', 'MV18', 'MT13', 'B101',  '3' );


ALTER TABLE Booking 
ADD FOREIGN KEY (aud_id) REFERENCES Audience(aud_id);

ALTER TABLE Booking 
ADD FOREIGN KEY (movie_id) REFERENCES Movies(movie_id);

ALTER TABLE Booking 
ADD FOREIGN KEY (movie_time_id) REFERENCES Movie_timetable(movie_time_id);



ALTER TABLE Booking 
ADD FOREIGN KEY (seat_id) REFERENCES Seat_Details(seat_id);





CREATE TABLE Payment (
 trans_id   VARCHAR(8) NOT NULL ,
 aud_id   VARCHAR(8) NOT NULL,
 booking_id VARCHAR(8) NOT NULL,
 trans_tax float(6,2) NOT NULL, 
 payment_meth char(15) NOT NULL,
 PRIMARY KEY (trans_id)

 );

ALTER TABLE Payment 
   ADD FOREIGN KEY (aud_id) REFERENCES Audience (aud_id), 
   ADD FOREIGN KEY (booking_id) REFERENCES Booking (booking_id);


INSERT into Payment(trans_id,	aud_id,		booking_id	,trans_tax,	payment_meth) VALUES
('TRX-0001','AU-001','BID-001',2.00,'online banking'),
('TRX-0002','AU-002','BID-002',2.40,'cash'),
('TRX-0003','AU-003','BID-003',1.55,'card'),
('TRX-0004','AU-004','BID-004',1.80,'online banking'),
('TRX-0005','AU-005','BID-005',1.45,'cash'),
('TRX-0006','AU-006','BID-006',3.00,'cash'),
('TRX-0007','AU-007','BID-007',2.10,'online banking'),
('TRX-0008','AU-008','BID-008',4.10,'card'),
('TRX-0009','AU-009','BID-009',3.95,'online banking'),
('TRX-0011','AU-010','BID-010',1.88,'card'),
('TRX-0012','AU-011','BID-011',2.88,'cash'),
('TRX-0013','AU-012','BID-013',3.88,'online banking'),
('TRX-0014','AU-013','BID-012',5.18,'card'),
('TRX-0015','AU-014','BID-014',3.08,'online banking'),
('TRX-0016','AU-015','BID-015',3.18,'cash'),
('TRX-0017','AU-016','BID-016',4.68,'cash'),
('TRX-0018','AU-017','BID-017',1.78,'cash'),
('TRX-0019','AU-018','BID-018',5.12,'online banking'),
('TRX-0010','AU-019','BID-019',2.22,'online banking'),
('TRX-0020','AU-020','BID-020',3.44,'card');



CREATE TABLE Receipt(
    rec_num_id VARCHAR(8) NOT NULL PRIMARY KEY ,
    movie_id VARCHAR(8) NOT NULL,
 
	seat_id VARCHAR(8) NOT NULL,
	booking_id VARCHAR(8) NOT NULL,
    trans_id varchar(8) NOT NULL,
    amount_paid FLOAT(8,2) NOT NULL
    
	
);

ALTER TABLE Receipt
   ADD FOREIGN KEY (movie_id) REFERENCES Movies (movie_id),
   
   ADD FOREIGN KEY (seat_id) REFERENCES Seat_Details (seat_id),
   ADD FOREIGN KEY (booking_id) REFERENCES Booking (booking_id),
   ADD FOREIGN KEY (trans_id) REFERENCES Payment (trans_id);
------------------------------------------------
INSERT into Receipt(rec_num_id,movie_id,seat_id,booking_id,trans_id,amount_paid)
VALUES
('R0000001'	,	'MV01'	,	'A101'	,		'BID-001'	,	'TRX-0001'	,	15.00),
('R0000002','MV02','A102','BID-002','TRX-0002',15.00),
('R0000003','MV03','A103','BID-003','TRX-0003',150.00),
('R0000004','MV04','A104','BID-004','TRX-0004',121.00),
('R0000005','MV05','A105','BID-005','TRX-0005',111.00),
('R0000006','MV06','B101','BID-006','TRX-0006',80.00),
('R0000007','MV07','B102','BID-007','TRX-0007',45.10),
('R0000008','MV08','B103','BID-008','TRX-0008',19.90),
('R0000009','MV09','B104','BID-009','TRX-0009',14.58),
('R0000010','MV10','B105','BID-010','TRX-0010',13.08),
('R0000011','MV11','C101','BID-011','TRX-0011',15.06),
('R0000012','MV12','C102','BID-012','TRX-0012',17.50),
('R0000013','MV13','C103','BID-013','TRX-0013',15.73),
('R0000014','MV14','C104','BID-014','TRX-0014',10.50),
('R0000015','MV15','C105','BID-015','TRX-0015',15.00),

('R0000016','MV16','D101','BID-016','TRX-0016',156.00),
('R0000017','MV17','D102','BID-017','TRX-0017',17.30),
('R0000018','MV18','D103','BID-018','TRX-0018',15.40),
('R0000019','MV19','D104','BID-019','TRX-0019',15.80),
('R0000020','MV20','D105','BID-020','TRX-0020',15.90);
-------------------------------------------------
CREATE TABLE Movie_timetable (
	
	movie_time_id  varchar(8) NOT NULL PRIMARY key,
	movie_id VARCHAR(8) NOT NULL  ,
	movie_time TIME NOT NULL,
	movie_date DATE NOT NULL,
	cin_h_id VARCHAR(8) NOT NULL
);

--------------------------------------

INSERT INTO Movie_timetable (movie_time_id,movie_id, movie_time,movie_date,cin_h_id) VALUES
('MT01','MV01',"12:00:00",'2022-04-02','CH11'),
('MT02','MV02',"13:00:00",'2022-04-02','CH12'),
('MT03','MV03',"14:00:00",'2022-04-02','CH13'),
('MT04','MV04',"15:00:00",'2022-04-02','CH21'),
('MT05','MV05',"16:00:00",'2022-04-02','CH22'),
('MT06','MV06',"14:00:00",'2022-04-03','CH23'),
('MT07','MV07',"15:00:00",'2022-04-03','CH31'),
('MT08','MV08',"16:00:00",'2022-04-03','CH32'),
('MT09','MV09',"17:00:00",'2022-04-03','CH33'),
('MT10','MV10',"18:00:00",'2022-04-03','CH41'),
('MT11','MV11',"11:00:00",'2022-04-03','CH42'),
('MT12','MV12',"12:00:00",'2022-04-04','CH43'),
('MT13','MV13',"14:30:00",'2022-04-02','CH11'),
('MT14','MV14',"13:00:00",'2022-04-02','CH12'),
('MT15','MV15',"15:00:00",'2022-04-04','CH13'),
('MT16','MV16',"12:00:00",'2022-04-04','CH21'),
('MT17','MV17',"12:00:00",'2022-04-04','CH22'),
('MT18','MV18',"12:00:00",'2022-04-05','CH23'),
('MT19','MV19',"12:00:00",'2022-04-05','CH31'),
('MT20','MV20',"12:00:00",'2022-04-06','CH32'),

('MT21','MV01',"12:00:00",'2022-04-06','CH33'),
('MT22','MV02',"12:00:00",'2022-04-06','CH41'),
('MT23','MV03',"12:00:00",'2022-04-06','CH42'),
('MT24','MV04',"12:00:00",'2022-04-06','CH43'),
('MT25','MV05',"12:30:00",'2022-04-07','CH11'),
('MT26','MV06',"14:00:00",'2022-04-07','CH12'),
('MT27','MV07',"15:00:00",'2022-04-07','CH13'),
('MT28','MV08',"16:00:00",'2022-04-07','CH11'),
('MT29','MV09',"17:00:00",'2022-04-07','CH12'),
('MT30','MV10',"18:00:00",'2022-04-07','CH13'),
('MT31','MV11',"11:00:00",'2022-04-07','CH21'),
('MT32','MV12',"12:00:00",'2022-04-07','CH22'),
('MT33','MV13',"14:30:00",'2022-04-07','CH23'),
('MT34','MV14',"13:00:00",'2022-04-07','CH33'),
('MT35','MV15',"15:00:00",'2022-04-06','CH31'),
('MT36','MV16',"15:00:00",'2022-04-06','CH32'),
('MT37','MV17',"14:45:00",'2022-04-06','CH43'),
('MT38','MV18',"15:30:00",'2022-04-06','CH41'),
('MT39','MV19',"15:30:00",'2022-04-06','CH42'),
('MT40','MV20',"14:45:00",'2022-04-06','CH11');

ALTER TABLE Movie_timetable
   ADD FOREIGN KEY (movie_id) REFERENCES Movies (movie_id);
   
ALTER TABLE Movie_timetable 
   ADD FOREIGN KEY (cin_h_id) REFERENCES CinemaHall(cin_h_id);
   
/*Query 1 solution*/  
Select b.movie_id, count(booking_ID) from booking as b , Movies as m  
Where b.movie_id = m.movie_id 
Group by b.movie_id;
   
   
   
/*Query 2 solution*/   
   
SELECT movie_id, SUM(amount_paid) as sum_amount 
FROM Receipt 
GROUP BY movie_id;   
   
   
/*Query 3 solution*/
SELECT branch_id, 
COUNT(*) 
FROM CinemaHall 
GROUP BY branch_id;


/*Query 4 solution*/
SELECT avg(seat_price)  
FROM  Seat_Details;
